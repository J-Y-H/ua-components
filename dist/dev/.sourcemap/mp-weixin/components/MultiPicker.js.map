{"version":3,"sources":["webpack:///./src/components/MultiPicker.vue?46d4","webpack:///./src/components/MultiPicker.vue?d293","webpack:///./src/components/MultiPicker.vue?bf5d","webpack:///./src/components/MultiPicker.vue?98a2","uni-app:///src/components/MultiPicker.vue","webpack:///./src/components/MultiPicker.vue?e641","webpack:///./src/components/MultiPicker.vue?e687"],"names":[],"mappings":";;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAoI;AACpI;AAC+D;AACL;AACsC;;;AAGhG;AACgI;AAChI,gBAAgB,gJAAU;AAC1B,EAAE,iFAAM;AACR,EAAE,kGAAM;AACR,EAAE,2GAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,sGAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACRA;AAAA;AAAA;AAAA;AAAyb,CAAgB,oeAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;eC4B7c;AACA,qBADA;AAEA;AACA;AADA,GAFA;AAKA;AACA;AACA;AACA,kBADA;AAEA;AAFA,KAFA;AAMA;AACA;AACA,kBADA;AAEA;AAFA,KAPA;AAWA;AACA;AACA,kBADA;AAEA;AAFA,KAZA;AAgBA;AACA;AACA,kBADA;AAEA;AAFA,KAjBA;AAqBA;AACA;AACA,kBADA;AAEA;AAFA,KAtBA;AA0BA;AACA;AACA,kBADA;AAEA;AAFA,KA3BA;AA+BA;AACA;AACA,mBADA;AAEA,kBAFA;AAGA;AAHA,KAhCA;AAqCA;AACA;AACA,kBADA;AAEA;AAFA;AAtCA,GALA;AAgDA,MAhDA,kBAgDA;AACA;AACA,qCADA;AAEA,eAFA;AAEA;AACA,sBAHA;AAGA;AACA;AAJA;AAMA,GAvDA;AAwDA;AACA;AACA,cAFA,sBAEA,IAFA,EAEA;AACA;;AACA;AACA;AACA;AACA;;AACA;AACA,KATA;AAUA;AACA,oBAXA,4BAWA,KAXA,EAWA;AAAA;;AACA;AACA;AACA;;AAFA,mCAGA,CAHA;AAIA;AACA;AAAA;AAAA;AACA;AACA;AAPA;;AAGA;AAAA;AAKA;;AACA;AACA;AACA;AACA;AACA,KAzBA;AA0BA;AACA,cA3BA,4BA2BA;AAAA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AACA,KAhCA;AAiCA;AACA,mBAlCA,2BAkCA,IAlCA,EAkCA;AACA;;AACA;AACA;AACA;AACA;AACA;AACA;;AACA;AACA,KA3CA;AA4CA;AACA,cA7CA,wBA6CA;AACA;;AACA;AACA;AACA;;AACA;AACA;AACA;AACA,KArDA;AAsDA;AACA,QAvDA,kBAuDA;AACA;AACA,KAzDA;AA0DA;AACA,SA3DA,mBA2DA;AACA;AACA;AA7DA;AAxDA,C;;;;;;;;;;;;;AC5BA;AAAA;AAAA;AAAA;AAA00B,CAAgB,k1BAAG,EAAC,C;;;;;;;;;;;ACA91B;AACA,OAAO,KAAU,EAAE,kBAKd","file":"components/MultiPicker.js","sourcesContent":["import { render, staticRenderFns, recyclableRender, components } from \"./MultiPicker.vue?vue&type=template&id=f9241cc8&scoped=true&\"\nvar renderjs\nimport script from \"./MultiPicker.vue?vue&type=script&lang=js&\"\nexport * from \"./MultiPicker.vue?vue&type=script&lang=js&\"\nimport style0 from \"./MultiPicker.vue?vue&type=style&index=0&id=f9241cc8&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"f9241cc8\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"components/MultiPicker.vue\"\nexport default component.exports","export * from \"-!../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--14-0!../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./MultiPicker.vue?vue&type=template&id=f9241cc8&scoped=true&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./MultiPicker.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./MultiPicker.vue?vue&type=script&lang=js&\"","<!--\n * @Descripttion: 多列选择器\n * @Date: 2021-09-26 14:00:17\n * @LastEditTime: 2021-09-27 15:08:45\n-->\n<template>\n  <uni-popup ref=\"popup\" type=\"bottom\">\n    <slot name=\"top\">\n      <view class=\"picker-top\">\n        <view class=\"picker-top-left\" :style=\"{ color: cancelColor }\" @click=\"close\">{{ cancelText }}</view>\n        <view class=\"picker-top-center\">{{ title }}</view>\n        <view class=\"picker-top-right\" :style=\"{ color: okColor }\" @click=\"handleSure\">{{ okText }}</view>\n      </view>\n    </slot>\n    <picker-view :style=\"{ height }\" indicator-class=\"multi-picker\"\n      :indicator-style=\"indicatorStyle\" :value=\"value\"\n      class=\"picker-view\"\n      @change=\"bindChange\">\n      <picker-view-column v-for=\"(item, idx) in columns\" :key=\"idx\">\n        <view class=\"multi-picker-item\" v-for=\"(ite, index) in item\" :key=\"index\">{{ ite[label] }}</view>\n      </picker-view-column>\n    </picker-view>\n  </uni-popup>\n</template>\n\n<script>\nimport UniPopup from '@/components/plugs/uni-popup/uni-popup.vue'\n\nexport default {\n  name: 'MultiPicker',\n  components: {\n    UniPopup\n  },\n  props: {\n    // 取消按钮文字\n    cancelText: {\n      type: String,\n      default: '取消'\n    },\n    // 确认按钮文字\n    okText: {\n      type: String,\n      default: '确定'\n    },\n    // 取消按钮颜色\n    cancelColor: {\n      type: String,\n      default: '#888'\n    },\n    // 确认按钮颜色\n    okColor: {\n      type: String,\n      default: '#007aff'\n    },\n    // 标题\n    title: {\n      type: String,\n      default: ''\n    },\n    // 滚动容器高度\n    height: {\n      type: String,\n      default: '500rpx'\n    },\n    // 根据该字段来显示容器中的值\n    label: {\n      require: true,\n      type: String,\n      default: ''\n    },\n    // 根据该字段来遍历回显内容\n    field: {\n      type: String,\n      default: ''\n    },\n  },\n  data () {\n    return {\n      indicatorStyle: `height: 40px;`,\n      value: [], // 默认选中项，根据下标来确定\n      currentValue: [], // 记录当前选中的下标\n      columns: []\n    }\n  },\n  methods: {\n    // 设置列数据(由于使用watch+props的形式无效，改为直接调用方法赋值)\n    setColumns(list) {\n      this.columns = list\n      if (this.value.length === 0) {\n        this.value = new Array(list.length).fill(0)\n        this.currentValue = this.value\n      }\n      this.$forceUpdate()\n    },\n    // 回显时，根据传入的field字段来匹配对应每一列的下标，再设置value\n    initDefaultValue(value) {\n      if (this.columns.length > 0) {\n        let idxs = []\n        let items = []\n        for (let i = 0; i < this.columns.length; i++) {\n          let current = this.columns[i]\n          let idx = current.findIndex((item) => item[this.field] == value[i])\n          items.push(current[idx])\n          idxs.push(idx)\n        }\n        this.value = idxs\n        this.currentValue = this.value\n        this.$emit('pickerChage', items)\n      }\n    },\n    // picker列滚动选择触发事件\n    bindChange ({ detail }) {\n      const val = detail.value\n      let idx = this.getChangeColumn(val)\n      this.$emit('columnChange', { column: idx, value: val[idx], data: this.columns[idx][val[idx]] })\n      this.currentValue = val\n    },\n    // 对比获取当前切换滚动的是哪一列\n    getChangeColumn(list) {\n      let idx\n      for (let i = 0; i < list.length; i++) {\n        if (list[i] !== this.currentValue[i]) {\n          idx = i\n          break\n        }\n      }\n      return idx\n    },\n    // 点击确认按钮\n    handleSure() {\n      let list = []\n      for (let i = 0; i < this.columns.length; i++) {\n        list.push(this.columns[i][this.currentValue[i]])\n      }\n      this.$emit('pickerChage', list)\n      this.value = this.currentValue\n      this.close()\n    },\n    // 显示picker-view弹窗\n    open() {\n      this.$refs.popup.open()\n    },\n    // 关闭picker-view弹窗\n    close() {\n      this.$refs.popup.close()\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.picker-view {\n  width: 750rpx;\n  background: #FFF;\n}\n.multi-picker-item {\n  height: 80rpx !important;\n  line-height: 80rpx;\n  align-items: center;\n  justify-content: center;\n  text-align: center;\n  padding: 0 4px;\n  box-sizing: border-box;\n  word-break: break-all;\n  text-overflow: ellipsis;\n  overflow: hidden;\n  white-space: nowrap;\n}\n.picker-top {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  padding: 20rpx 30rpx;\n  background: #FFF;\n  border-bottom: 2rpx solid #e5e5e5;\n  font-size: 34rpx;\n  color: #333;\n}\n</style>","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./MultiPicker.vue?vue&type=style&index=0&id=f9241cc8&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./MultiPicker.vue?vue&type=style&index=0&id=f9241cc8&lang=scss&scoped=true&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1632731549980\n      var cssReload = require(\"/Users/admin/Documents/2_mine/ua-components/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}