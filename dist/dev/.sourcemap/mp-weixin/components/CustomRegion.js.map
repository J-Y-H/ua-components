{"version":3,"sources":["webpack:///./src/components/CustomRegion.vue?cbb0","webpack:///./src/components/CustomRegion.vue?2afc","webpack:///./src/components/CustomRegion.vue?9882","webpack:///./src/components/CustomRegion.vue?9de4","uni-app:///src/components/CustomRegion.vue","webpack:///./src/components/CustomRegion.vue?7184","webpack:///./src/components/CustomRegion.vue?2166"],"names":[],"mappings":";;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAqI;AACrI;AACgE;AACL;AACsC;;;AAGjG;AACgI;AAChI,gBAAgB,gJAAU;AAC1B,EAAE,kFAAM;AACR,EAAE,mGAAM;AACR,EAAE,4GAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,uGAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;AClBA;AAAA;AAAA;AAAA;AAA0b,CAAgB,qeAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;ACsB9c;;AACA;;AACA;;;;;;;;;;;;;;;;;;;;gBAEA;AACA,sBADA;AAEA;AACA;AACA;AACA,iBADA;AAEA;AAAA;AAAA;AAFA,KAFA;AAMA;AACA;AACA,kBADA;AAEA;AAFA;AAPA,GAFA;AAcA,MAdA,kBAcA;AACA;AACA,oBADA;AACA;AACA,sBAFA;AAEA;AACA,eAHA,CAGA;;AAHA;AAKA,GApBA;AAqBA,SArBA,qBAqBA;AACA;AACA,GAvBA;AAwBA;AACA;AACA,kBAFA,0BAEA,KAFA,EAEA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA,KAVA;AAWA;AACA,oBAZA,4BAYA,KAZA,EAYA;AACA;AACA;AACA,KAfA;AAgBA;AACA,sBAjBA,qCAiBA;AAAA;AAAA;;AACA;AACA;AACA;AACA,OAHA,MAGA;AACA;AACA;AACA;AACA,KAzBA;AA0BA;AACA,wBA3BA,kCA2BA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;;AACA;;AAFA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA,KA9BA;AA+BA;AACA,kBAhCA,0BAgCA,KAhCA,EAgCA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;;AACA;;AAHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA,KApCA;AAqCA;AACA,cAtCA,sBAsCA,KAtCA,EAsCA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;;AACA;;AACA;AACA;AACA;;AANA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAOA,KA7CA;AA8CA;AACA,qBA/CA,+BA+CA;AAAA;;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AACA,2BACA,wBADA,EAEA,wBAFA,EAGA,wBAHA;AAKA;AACA,KA5DA;AA6DA;AACA;AACA,gBA/DA,0BA+DA;AAAA;;AAAA;AAAA;AACA,kBADA,CAEA;;AACA;AACA;AAAA;AAAA;AACA;;AACA;AACA;AACA;;AACA;AACA,KAzEA;AA0EA;AACA,sBA3EA,8BA2EA,GA3EA,EA2EA;AAAA;AACA;;AACA;AACA;AACA;AACA,SAFA,EAEA,GAFA;AAGA;AACA;AAlFA;AAxBA,C;;;;;;;;;;;;;AC1BA;AAAA;AAAA;AAAA;AAA20B,CAAgB,m1BAAG,EAAC,C;;;;;;;;;;;ACA/1B;AACA,OAAO,KAAU,EAAE,kBAKd","file":"components/CustomRegion.js","sourcesContent":["import { render, staticRenderFns, recyclableRender, components } from \"./CustomRegion.vue?vue&type=template&id=87ea6bc0&scoped=true&\"\nvar renderjs\nimport script from \"./CustomRegion.vue?vue&type=script&lang=js&\"\nexport * from \"./CustomRegion.vue?vue&type=script&lang=js&\"\nimport style0 from \"./CustomRegion.vue?vue&type=style&index=0&id=87ea6bc0&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"87ea6bc0\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"components/CustomRegion.vue\"\nexport default component.exports","export * from \"-!../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--14-0!../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./CustomRegion.vue?vue&type=template&id=87ea6bc0&scoped=true&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var g0 =\n    _vm.pickerData && _vm.pickerData.length > 0 ? _vm.pickerData.join() : null\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        g0: g0\n      }\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./CustomRegion.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./CustomRegion.vue?vue&type=script&lang=js&\"","<!--\n * @Descripttion: 自定义省市区选择组件\n * @Date: 2021-09-17 11:00:14\n * @LastEditTime: 2021-09-26 10:12:09\n-->\n<template>\n  <picker\n    class=\"addr-picker\"\n    mode=\"multiSelector\"\n    :value=\"defaultValue\"\n    :range=\"range\"\n    range-key=\"name\"\n    @change=\"bindDateChange\"\n    @columnchange=\"bindColumnchange\"\n  >\n    <view :class=\"{ 'addr__text--placeholder': !(pickerData && pickerData.length > 0) }\">{{\n      pickerData && pickerData.length > 0 ? pickerData.join() : '请选择省市区'\n    }}</view>\n  </picker>\n</template>\n\n<script>\nimport { area } from '@/constant/regoin/area'\nimport { city } from '@/constant/regoin/city'\nimport { province } from '@/constant/regoin/province'\n\nexport default {\n  name: 'CustomRegion',\n  props: {\n    // 默认选择的省市区数据，可以['浙江省', '杭州市', '滨江区'], [330000, 330100, 330108],根据下面的field字段来判断\n    defaultRegion: {\n      type: Array,\n      default: () => []\n    },\n    // 用于设置默认值时，根据该字段获取数据\n    field: {\n      type: String,\n      default: 'code'\n    }\n  },\n  data() {\n    return {\n      pickerData: [], // 已选择展示数据\n      defaultValue: [], // 回显时默认选中项\n      range: [] // picker数据\n    }\n  },\n  mounted() {\n    this.initPickerColumnData()\n  },\n  methods: {\n    // picker组件点击确定\n    bindDateChange(event) {\n      let [x = 0, y = 0, z = 0] = [...event.detail.value]\n      let list = []\n      list[0] = this.range[0][x]\n      list[1] = this.range[1][y]\n      list[2] = this.range[2][z]\n      this.pickerData = list.map((item) => item.name)\n      this.$emit('handleRegion', list)\n    },\n    // 切换选择某一列\n    bindColumnchange(event) {\n      // console.log('bindColumnchange--', event.detail)\n      this.handleSwitchPicker(event.detail)\n    },\n    // 某列切换选择时，变化处理picker数据\n    handleSwitchPicker({ column, value }) {\n      if (column === 0) {\n        // 第一列切换 || 省\n        this.switchProvince(value)\n      } else if (column === 1) {\n        // 第二列切换 || 市\n        this.switchCity(value)\n      }\n    },\n    // 初始化picker的每列数据\n    async initPickerColumnData() {\n      this.range[0] = province\n      this.switchProvince(this.getRegionIdx(this.range[0], 0))\n    },\n    // 切换省，需要更改市，区域数据\n    async switchProvince(value) {\n      // this.handleAdjustHeight(1)\n      this.range[1] = city[province[value].code]\n      this.switchCity(this.getRegionIdx(this.range[1], 1))\n    },\n    // 切换市, 需要更改区域数据\n    async switchCity(value) {\n      // this.handleAdjustHeight(2)\n      this.range[2] = area[this.range[1][value].code]\n      this.$forceUpdate()\n      if (this.defaultRegion.length > 0) {\n        this.initDefaultRegion()\n      }\n    },\n    // 设置默认已选省市区(回显)\n    initDefaultRegion() {\n      if (this.defaultValue.length === 0) {\n        let [x = 0, y = 0, z = 0] = [...this.defaultRegion]\n        let pIdx = this.range[0].findIndex((item) => item[this.field] == x)\n        let cIdx = this.range[1].findIndex((item) => item[this.field] == y)\n        let aIdx = this.range[2].findIndex((item) => item[this.field] == z)\n        this.defaultValue = [pIdx, cIdx, aIdx]\n        this.pickerData = [\n          this.range[0][pIdx].name,\n          this.range[1][cIdx].name,\n          this.range[2][aIdx].name\n        ]\n      }\n    },\n    // 返回当前所选中【市】【区】的下标,用于匹配下一列数据\n    // list: 当前列数据， n: 0：省数据 1：市数据 2：区数据\n    getRegionIdx(list = [], n) {\n      let idx = 0\n      // 如果有默认选中项(回显时),则遍历获取对应的下标,否则使用每列的第一项\n      if (this.defaultRegion.length > 0) {\n        idx = list.findIndex((item) => item[this.field] == this.defaultRegion[n])\n      }\n      if (idx < 0) {\n        idx = 0\n      }\n      return idx\n    },\n    // 设置每列的滚动高度，目前用于重置高度，（由于调用该方法后，会出现一些样式跳动的问题，暂时不调用）\n    handleAdjustHeight(idx, h = 0) {\n      let els = document.querySelectorAll('.uni-picker-view-content')\n      if (els && els.length > 0) {\n        setTimeout(() => {\n          els[idx].style.transform = `translateY(${h}px) translateZ(0px)`\n        }, 100)\n      }\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.addr-picker {\n  width: 100%;\n  height: 100%;\n}\n.addr__text--placeholder {\n  color: #999;\n}\n</style>\n","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./CustomRegion.vue?vue&type=style&index=0&id=87ea6bc0&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./CustomRegion.vue?vue&type=style&index=0&id=87ea6bc0&lang=scss&scoped=true&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1632731549924\n      var cssReload = require(\"/Users/admin/Documents/2_mine/ua-components/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}